# Editor used by CLI
export EDITOR="nvim"
export SUDO_EDITOR="$EDITOR"

# Path edits
export PATH="$PATH:$HOME/.config/composer/vendor/bin"
export PATH="$PATH:$HOME/.local/share/mise/installs/node/22.10.0/bin"
export PATH="$PATH:$HOME/.cargo/bin"
export PATH="$PATH:$HOME/.local/bin"
export PATH="$PATH:$HOME/go/bin"

# 1Password SSH agent
{{ if eq .chezmoi.os "linux" -}}
export SSH_AUTH_SOCK=~/.1password/agent.sock
{{ else if eq .chezmoi.os "darwin" -}}
export SSH_AUTH_SOCK=~/Library/Group\ Containers/2BUA8C4S2C.com.1password/t/agent.sock

# Herd injected
export HERD_PHP_84_INI_SCAN_DIR="/Users/raven/Library/Application Support/Herd/config/php/84/"

# Herd injected NVM configuration
export NVM_DIR="/Users/raven/Library/Application Support/Herd/config/nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm

[[ -f "/Applications/Herd.app/Contents/Resources/config/shell/zshrc.zsh" ]] && builtin source "/Applications/Herd.app/Contents/Resources/config/shell/zshrc.zsh"
{{ end }}
# Aliases

# Laravel specific
alias a='php artisan'
alias amfs='php artisan migrate:fresh --seed'
alias sail='[ -f sail ] && sh sail || sh vendor/bin/sail'
alias takeout="docker run --rm -v /var/run/docker.sock:/var/run/docker.sock --add-host=host.docker.internal:host-gateway -it tighten/takeout:latest"

{{ if eq .chezmoi.os "darwin" -}}
# Herd injected PHP configurations
export HERD_PHP_84_INI_SCAN_DIR="/Users/raven/Library/Application Support/Herd/config/php/84/"
export HERD_PHP_83_INI_SCAN_DIR="/Users/raven/Library/Application Support/Herd/config/php/83/"
export HERD_PHP_82_INI_SCAN_DIR="/Users/raven/Library/Application Support/Herd/config/php/82/"
export HERD_PHP_80_INI_SCAN_DIR="/Users/raven/Library/Application Support/Herd/config/php/80/"
export HERD_PHP_74_INI_SCAN_DIR="/Users/raven/Library/Application Support/Herd/config/php/74/"
{{ end }}

export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm
{{ if eq .chezmoi.os "linux" -}}
[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"  # This loads nvm bash_completion
{{ end }}

# opencode
export PATH=$HOME/.opencode/bin:$PATH

{{ if eq .chezmoi.os "linux" -}}
# Android SDK configuration
export ANDROID_SDK_ROOT=/home/raven/Android/Sdk
export ANDROID_HOME=/home/raven/Android/Sdk
export PATH=$PATH:$ANDROID_SDK_ROOT/emulator:$ANDROID_SDK_ROOT/platform-tools
alias start-emulator="emulator @Pixel_9 -sysdir \$ANDROID_SDK_ROOT/system-images/android-36.1/google_apis_playstore/x86_64/ &"

# Java configuration
export JAVA_HOME=/usr/lib/jvm/java-21-openjdk
{{ else if eq .chezmoi.os "darwin" -}}
# Java configuration
export JAVA_HOME=/Library/Java/JavaVirtualMachines/zulu-17.jdk/Contents/Home

# Android SDK configuration
export ANDROID_HOME=$HOME/Library/Android/sdk
export PATH=$PATH:$ANDROID_HOME/emulator:$ANDROID_HOME/platform-tools
{{ end }}

# source ~/.env  # Commented out - file not found
